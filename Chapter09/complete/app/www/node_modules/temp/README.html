<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">
    <title>
        My default title
    </title>

    <!-- Bootstrap core CSS -->
    <link href="css/main.css" rel="stylesheet">

</head>

<body>

    <nav class="navbar navbar-toggleable-md navbar-dark bg-faded">
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
  <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="index.html">Chapter 9</a>
  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Recipes</a>
          <div class="dropdown-menu" aria-labelledby="dropdown01">
            <a class="dropdown-item" href="recipe09-01">1 - Customizing Bootstrap Builds by Cherry-picking Sass Partials</a>
            <a class="dropdown-item" href="recipe09-02">2 - Cleaning up unused CSS with UnCSS and Grunt</a>
            <a class="dropdown-item" href="recipe09-03">3 - Removing CSS comments with grunt-strip-css-comments</a>
          </div>
        </li>
      </li>
    </ul>
  </div>
</nav>

        <h1>node-temp</h1><p>Temporary files, directories, and streams for Node.js.</p>
<p>Handles generating a unique file/directory name under the appropriate
system temporary directory, changing the file to an appropriate mode,
and supports automatic removal (if asked)</p>
<p><code>temp</code> has a similar API to the <code>fs</code> module.</p>
<h2>Node.js Compatibility</h2><p>Supports v0.10.0+.</p>
<p><a href="https://travis-ci.org/bruce/node-temp"><img src="https://travis-ci.org/bruce/node-temp.png" alt="Build Status"></a></p>
<p>Please let me know if you have problems running it on a later version of Node.js or
have platform-specific problems.</p>
<h2>Installation</h2><p>Install it using <a href="http://github.com/isaacs/npm">npm</a>:</p>
<pre><code>$ npm install temp
</code></pre><p>Or get it directly from:
<a href="http://github.com/bruce/node-temp">http://github.com/bruce/node-temp</a></p>
<h2>Synopsis</h2><p>You can create temporary files with <code>open</code> and <code>openSync</code>, temporary
directories with <code>mkdir</code> and <code>mkdirSync</code>, or you can get a unique name
in the system temporary directory with <code>path</code>.</p>
<p>Working copies of the following examples can be found under the
<code>examples</code> directory.</p>
<h3>Temporary Files</h3><p>To create a temporary file use <code>open</code> or <code>openSync</code>, passing
them an optional prefix, suffix, or both (see below for details on
affixes). The object passed to the callback (or returned) has
<code>path</code> and <code>fd</code> keys:</p>
<pre><code class="language-javascript">{ path: &quot;/path/to/file&quot;,
, fd: theFileDescriptor
}
</code></pre>
<p>In this example we write to a temporary file and call out to <code>grep</code> and
<code>wc -l</code> to determine the number of time <code>foo</code> occurs in the text.  The
temporary file is chmod&#39;d <code>0600</code> and cleaned up automatically when the
process at exit (because <code>temp.track()</code> is called):</p>
<pre><code class="language-javascript">var temp = require(&#39;temp&#39;),
    fs   = require(&#39;fs&#39;),
    util  = require(&#39;util&#39;),
    exec = require(&#39;child_process&#39;).exec;

// Automatically track and cleanup files at exit
temp.track();

// Fake data
var myData = &quot;foo\nbar\nfoo\nbaz&quot;;

// Process the data (note: error handling omitted)
temp.open(&#39;myprefix&#39;, function(err, info) {
  if (!err) {
    fs.write(info.fd, myData);
    fs.close(info.fd, function(err) {
      exec(&quot;grep foo &#39;&quot; + info.path + &quot;&#39; | wc -l&quot;, function(err, stdout) {
        util.puts(stdout.trim());
      });
    });
  }
});
</code></pre>
<h3>Want Cleanup? Make sure you ask for it.</h3><p>As noted in the example above, if you want temp to track the files and
directories it creates and handle removing those files and directories
on exit, you must call <code>track()</code>. The <code>track()</code> function is chainable,
and it&#39;s recommended that you call it when requiring the module.</p>
<pre><code class="language-javascript">var temp = require(&quot;temp&quot;).track();
</code></pre>
<p>Why is this necessary? In pre-0.6 versions of temp, tracking was
automatic. While this works great for scripts and
<a href="http://gruntjs.com/">Grunt tasks</a>, it&#39;s not so great for long-running
server processes. Since that&#39;s arguably what Node.js is <em>for</em>, you
have to opt-in to tracking.</p>
<p>But it&#39;s easy.</p>
<h4>Cleanup anytime</h4><p>When tracking, you can run <code>cleanup()</code> and <code>cleanupSync()</code> anytime
(<code>cleanupSync()</code> will be run for you on process exit). An object will
be returned (or passed to the callback) with cleanup counts and
the file/directory tracking lists will be reset.</p>
<pre><code class="language-javascript">&gt; temp.cleanupSync();
{ files: 1,
  dirs:  0 }
</code></pre>
<pre><code class="language-javascript">&gt; temp.cleanup(function(err, stats) {
    console.log(stats);
  });
{ files: 1,
  dirs:  0 }
</code></pre>
<p>Note: If you&#39;re not tracking, an error (&quot;not tracking&quot;) will be passed
to the callback.</p>
<h3>Temporary Directories</h3><p>To create a temporary directory, use <code>mkdir</code> or <code>mkdirSync</code>, passing
it an optional prefix, suffix, or both (see below for details on affixes).</p>
<p>In this example we create a temporary directory, write to a file
within it, call out to an external program to create a PDF, and read
the result.  While the external process creates a lot of additional
files, the temporary directory is removed automatically at exit (because
<code>temp.track()</code> is called):</p>
<pre><code class="language-javascript">var temp = require(&#39;temp&#39;),
    fs   = require(&#39;fs&#39;),
    util = require(&#39;util&#39;),
    path = require(&#39;path&#39;),
    exec = require(&#39;child_process&#39;).exec;

// Automatically track and cleanup files at exit
temp.track();

// For use with ConTeXt, http://wiki.contextgarden.net
var myData = &quot;\\starttext\nHello World\n\\stoptext&quot;;

temp.mkdir(&#39;pdfcreator&#39;, function(err, dirPath) {
  var inputPath = path.join(dirPath, &#39;input.tex&#39;)
  fs.writeFile(inputPath, myData, function(err) {
    if (err) throw err;
    process.chdir(dirPath);
    exec(&quot;texexec &#39;&quot; + inputPath + &quot;&#39;&quot;, function(err) {
      if (err) throw err;
      fs.readFile(path.join(dirPath, &#39;input.pdf&#39;), function(err, data) {
        if (err) throw err;
        sys.print(data);
      });
    });
  });
});
</code></pre>
<h3>Temporary Streams</h3><p>To create a temporary WriteStream, use &#39;createWriteStream&#39;, which sits
on top of <code>fs.createWriteStream</code>. The return value is a
<code>fs.WriteStream</code> whose <code>path</code> is registered for removal when
<code>temp.cleanup</code> is called (because <code>temp.track()</code> is called).</p>
<pre><code class="language-javascript">var temp = require(&#39;temp&#39;);

// Automatically track and cleanup files at exit
temp.track();

var stream = temp.createWriteStream();
stream.write(&quot;Some data&quot;);
// Maybe do some other things
stream.end();
</code></pre>
<h3>Affixes</h3><p>You can provide custom prefixes and suffixes when creating temporary
files and directories. If you provide a string, it is used as the prefix
for the temporary name. If you provide an object with <code>prefix</code>,
<code>suffix</code> and <code>dir</code> keys, they are used for the temporary name.</p>
<p>Here are some examples:</p>
<ul>
<li><code>&quot;aprefix&quot;</code>: A simple prefix, prepended to the filename; this is
shorthand for:</li>
<li><code>{prefix: &quot;aprefix&quot;}</code>: A simple prefix, prepended to the filename</li>
<li><code>{suffix: &quot;.asuffix&quot;}</code>: A suffix, appended to the filename
(especially useful when the file needs to be named with specific
extension for use with an external program).</li>
<li><code>{prefix: &quot;myprefix&quot;, suffix: &quot;mysuffix&quot;}</code>: Customize both affixes</li>
<li><code>{dir: path.join(os.tmpDir(), &quot;myapp&quot;)}</code>: default prefix and suffix
within a new temporary directory.</li>
<li><code>null</code>: Use the defaults for files and directories (prefixes <code>&quot;f-&quot;</code>
and <code>&quot;d-&quot;</code>, respectively, no suffixes).</li>
</ul>
<p>In this simple example we read a <code>pdf</code>, write it to a temporary file with
a <code>.pdf</code> extension, and close it.</p>
<pre><code class="language-javascript">var fs   = require(&#39;fs&#39;),
    temp = require(&#39;temp&#39;);

fs.readFile(&#39;/path/to/source.pdf&#39;, function(err, data) {
  temp.open({suffix: &#39;.pdf&#39;}, function(err, info) {
    if (err) throw err;
    fs.write(info.fd, contents);
    fs.close(info.fd, function(err) {
      if (err) throw err;
      // Do something with the file
    });
  });
});
</code></pre>
<h3>Just a path, please</h3><p>If you just want a unique name in your temporary directory, use
<code>path</code>:</p>
<pre><code class="language-javascript">var fs = require(&#39;fs&#39;);
var tempName = temp.path({suffix: &#39;.pdf&#39;});
// Do something with tempName
</code></pre>
<p>Note: The file isn&#39;t created for you, and the mode is not changed  -- and it
will not be removed automatically at exit.  If you use <code>path</code>, it&#39;s
all up to you.</p>
<h2>Using it with Grunt</h2><p>If you want to use the module with <a href="http://gruntjs.com/">Grunt</a>, make sure you
use <code>async()</code> in your Gruntfile:</p>
<pre><code class="language-javascript">module.exports = function (grunt) {
  var temp = require(&quot;temp&quot;);
  temp.track(); // Cleanup files, please
  grunt.registerTask(&quot;temptest&quot;, &quot;Testing temp&quot;, function() {

    var done = this.async(); // Don&#39;t forget this!

    grunt.log.writeln(&quot;About to write a file...&quot;);
    temp.open(&#39;tempfile&#39;, function(err, info) {
      // File writing shenanigans here
      grunt.log.writeln(&quot;Wrote a file!&quot;)

      done(); // REALLY don&#39;t forget this!

    });
  });
};
</code></pre>
<p>For more information, see the <a href="http://gruntjs.com/frequently-asked-questions#why-doesn-t-my-asynchronous-task-complete">Grunt FAQ</a>.</p>
<h2>Testing</h2><pre><code class="language-sh">$ npm test
</code></pre>
<h2>Contributing</h2><p>You can find the repository at:
<a href="http://github.com/bruce/node-temp">http://github.com/bruce/node-temp</a></p>
<p>Issues/Feature Requests can be submitted at:
<a href="http://github.com/bruce/node-temp/issues">http://github.com/bruce/node-temp/issues</a></p>
<p>I&#39;d really like to hear your feedback, and I&#39;d love to receive your
pull-requests!</p>
<h2>Copyright</h2><p>Copyright (c) 2010-2014 Bruce Williams. This software is licensed
under the MIT License, see LICENSE for details.</p>

	 <!-- Bootstrap core JavaScript
 ================================================== -->
 <!-- Placed at the end of the document so the pages load faster -->
     <script src="js/jquery.js"></script>
    <script src="js/tether.js"></script>
    <script src="js/bootstrap.js"></script>

</body>
</html>