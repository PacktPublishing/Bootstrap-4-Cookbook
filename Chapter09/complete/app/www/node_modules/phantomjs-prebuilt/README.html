<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">
    <title>
        My default title
    </title>

    <!-- Bootstrap core CSS -->
    <link href="css/main.css" rel="stylesheet">

</head>

<body>

    <nav class="navbar navbar-toggleable-md navbar-dark bg-faded">
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
  <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="index.html">Chapter 9</a>
  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Recipes</a>
          <div class="dropdown-menu" aria-labelledby="dropdown01">
            <a class="dropdown-item" href="recipe09-01">1 - Customizing Bootstrap Builds by Cherry-picking Sass Partials</a>
            <a class="dropdown-item" href="recipe09-02">2 - Cleaning up unused CSS with UnCSS and Grunt</a>
            <a class="dropdown-item" href="recipe09-03">3 - Removing CSS comments with grunt-strip-css-comments</a>
          </div>
        </li>
      </li>
    </ul>
  </div>
</nav>

        <h1>phantomjs-prebuilt</h1><p>An NPM installer for <a href="http://phantomjs.org/">PhantomJS</a>, headless webkit with JS API.</p>
<p><a href="https://travis-ci.org/Medium/phantomjs"><img src="https://travis-ci.org/Medium/phantomjs.svg?branch=master" alt="Build Status"></a></p>
<h2>Building and Installing</h2><pre><code class="language-shell">npm install phantomjs-prebuilt
</code></pre>
<p>Or grab the source and</p>
<pre><code class="language-shell">node ./install.js
</code></pre>
<p>What this installer is really doing is just grabbing a particular &quot;blessed&quot; (by
this module) version of Phantom. As new versions of Phantom are released
and vetted, this module will be updated accordingly.</p>
<h2>Running</h2><pre><code class="language-shell">bin/phantomjs [phantom arguments]
</code></pre>
<p>And npm will install a link to the binary in <code>node_modules/.bin</code> as
it is wont to do.</p>
<h2>Running via node</h2><p>The package exports a <code>path</code> string that contains the path to the
phantomjs binary/executable.</p>
<p>Below is an example of using this package via node.</p>
<pre><code class="language-javascript">var path = require(&#39;path&#39;)
var childProcess = require(&#39;child_process&#39;)
var phantomjs = require(&#39;phantomjs-prebuilt&#39;)
var binPath = phantomjs.path

var childArgs = [
  path.join(__dirname, &#39;phantomjs-script.js&#39;),
  &#39;some other argument (passed to phantomjs script)&#39;
]

childProcess.execFile(binPath, childArgs, function(err, stdout, stderr) {
  // handle results
})
</code></pre>
<p>Or <code>exec()</code> method is also provided for convenience:</p>
<pre><code class="language-javascript">var phantomjs = require(&#39;phantomjs-prebuilt&#39;)
var program = phantomjs.exec(&#39;phantomjs-script.js&#39;, &#39;arg1&#39;, &#39;arg2&#39;)
program.stdout.pipe(process.stdout)
program.stderr.pipe(process.stderr)
program.on(&#39;exit&#39;, code =&gt; {
  // do something on end
})
</code></pre>
<p>Note: <a href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options">childProcess.spawn()</a> is called inside <code>exec()</code>.</p>
<h2>Running with WebDriver</h2><p><code>run()</code> method detects when PhantomJS gets ready. It&#39;s handy to use with WebDriver (Selenium).</p>
<pre><code class="language-javascript">var phantomjs = require(&#39;phantomjs-prebuilt&#39;)
var webdriverio = require(&#39;webdriverio&#39;)
var wdOpts = { desiredCapabilities: { browserName: &#39;phantomjs&#39; } }

phantomjs.run(&#39;--webdriver=4444&#39;).then(program =&gt; {
  webdriverio.remote(wdOpts).init()
    .url(&#39;https://developer.mozilla.org/en-US/&#39;)
    .getTitle().then(title =&gt; {
      console.log(title) // &#39;Mozilla Developer Network&#39;
      program.kill() // quits PhantomJS
    })
})
</code></pre>
<h2>Versioning</h2><p>The major and minor number tracks the version of PhantomJS that will be
installed. The patch number is incremented when there is either an installer
update or a patch build of the phantom binary.</p>
<p>Pre-2.0, this package was published to NPM as <a href="https://www.npmjs.com/package/phantomjs">phantomjs</a>.
We changed the name to <a href="https://www.npmjs.com/package/phantomjs-prebuilt">phantomjs-prebuilt</a> at
the request of PhantomJS team.</p>
<h2>Continuous Integration</h2><p>Please <strong>do not</strong> download PhantomJS for every CI job because it can quickly
overload our CDNs. Instead take advantage of CI caching.</p>
<p>In <a href="https://travis-ci.org/">Travis-CI</a> add the following to your <code>.travis.yml</code>
to <a href="https://docs.travis-ci.com/user/caching/">enable caching</a> &amp; avoid repeated
downloads of PhantomJS.</p>
<h4>.travis.yml</h4><pre><code class="language-yml">cache:
  directories:
    - travis_phantomjs

before_install:
  # Upgrade PhantomJS to v2.1.1.
  - &quot;export PHANTOMJS_VERSION=2.1.1&quot;
  - &quot;export PATH=$PWD/travis_phantomjs/phantomjs-$PHANTOMJS_VERSION-linux-x86_64/bin:$PATH&quot;
  - &quot;if [ $(phantomjs --version) != $PHANTOMJS_VERSION ]; then rm -rf $PWD/travis_phantomjs; mkdir -p $PWD/travis_phantomjs; fi&quot;
  - &quot;if [ $(phantomjs --version) != $PHANTOMJS_VERSION ]; then wget https://github.com/Medium/phantomjs/releases/download/v$PHANTOMJS_VERSION/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 -O $PWD/travis_phantomjs/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2; fi&quot;
  - &quot;if [ $(phantomjs --version) != $PHANTOMJS_VERSION ]; then tar -xvf $PWD/travis_phantomjs/phantomjs-$PHANTOMJS_VERSION-linux-x86_64.tar.bz2 -C $PWD/travis_phantomjs; fi&quot;
  - &quot;phantomjs --version&quot;
</code></pre>
<h2>Deciding Where To Get PhantomJS</h2><p>By default, this package will download phantomjs from our <a href="https://github.com/Medium/phantomjs/releases/">releases</a>.
This should work fine for most people.</p>
<h5>Downloading from a custom URL</h5><p>If github is down, or the Great Firewall is blocking github, you may need to use
a different download mirror. To set a mirror, set npm config property <code>phantomjs_cdnurl</code>.</p>
<p>Alternatives include <code>https://bitbucket.org/ariya/phantomjs/downloads</code> (the official download site)
and <code>http://cnpmjs.org/downloads</code>.</p>
<pre><code class="language-Shell">npm install phantomjs-prebuilt --phantomjs_cdnurl=https://bitbucket.org/ariya/phantomjs/downloads
</code></pre>
<p>Or add property into your <code>.npmrc</code> file (<a href="https://www.npmjs.org/doc/files/npmrc.html">https://www.npmjs.org/doc/files/npmrc.html</a>)</p>
<pre><code>phantomjs_cdnurl=https://bitbucket.org/ariya/phantomjs/downloads
</code></pre><p>Another option is to use PATH variable <code>PHANTOMJS_CDNURL</code>.</p>
<pre><code class="language-shell">PHANTOMJS_CDNURL=https://bitbucket.org/ariya/phantomjs/downloads npm install phantomjs
</code></pre>
<h5>Using PhantomJS from disk</h5><p>If you plan to install phantomjs many times on a single machine, you can
install the <code>phantomjs</code> binary on PATH. The installer will automatically detect
and use that for non-global installs.</p>
<h2>Cross-Platform Repositories</h2><p>PhantomJS needs to be compiled separately for each platform. This installer
finds a prebuilt binary for your operating system, and downloads it.</p>
<p>If you check your dependencies into git, and work on a cross-platform
team, then you need to tell NPM to rebuild any platform-specific dependencies. Run</p>
<pre><code class="language-shell">npm rebuild
</code></pre>
<p>as part of your build process. This problem is not specific to PhantomJS, and this
solution will work for any NodeJS package with native or platform-specific code.</p>
<p>If you know in advance that you want to install PhantomJS for a specific architecture,
you can set the environment variables: <code>PHANTOMJS_PLATFORM</code>
(to set target platform) and <code>PHANTOMJS_ARCH</code> (to set target
arch), where <code>platform</code> and <code>arch</code> are valid values for
<a href="https://nodejs.org/api/process.html">process.platform and process.arch</a>.</p>
<h2>A Note on PhantomJS</h2><p>PhantomJS is not a library for NodeJS.  It&#39;s a separate environment and code
written for node is unlikely to be compatible.  In particular PhantomJS does
not expose a Common JS package loader.</p>
<p>This is an <em>NPM wrapper</em> and can be used to conveniently make Phantom available.
It is not a Node JS wrapper.</p>
<p>I have had reasonable experiences writing standalone Phantom scripts which I
then drive from within a node program by spawning phantom in a child process.</p>
<p>Read the PhantomJS FAQ for more details: <a href="http://phantomjs.org/faq.html">http://phantomjs.org/faq.html</a></p>
<h3>Linux Note</h3><p>An extra note on Linux usage, from the PhantomJS download page:</p>
<blockquote>
<p>There is no requirement to install Qt, WebKit, or any other libraries. It
however still relies on Fontconfig (the package fontconfig or libfontconfig,
depending on the distribution).</p>
</blockquote>
<h2>Troubleshooting</h2><h5>Installation fails with <code>spawn ENOENT</code></h5><p>This is NPM&#39;s way of telling you that it was not able to start a process. It usually means:</p>
<ul>
<li><code>node</code> is not on your PATH, or otherwise not correctly installed.</li>
<li><code>tar</code> is not on your PATH. This package expects <code>tar</code> on your PATH on Linux-based platforms.</li>
<li><code>bzip2</code> is not on your PATH.</li>
</ul>
<p>Check your specific error message for more information.</p>
<h5>Installation fails with <code>Error: EPERM</code> or <code>operation not permitted</code> or <code>permission denied</code></h5><p>This error means that NPM was not able to install phantomjs to the file system. There are three
major reasons why this could happen:</p>
<ul>
<li>You don&#39;t have write access to the installation directory.</li>
<li>The permissions in the NPM cache got messed up, and you need to run <code>npm cache clean</code> to fix them.</li>
<li>You have over-zealous anti-virus software installed, and it&#39;s blocking file system writes.</li>
</ul>
<h5>Installation fails with <code>Error: read ECONNRESET</code> or <code>Error: connect ETIMEDOUT</code></h5><p>This error means that something went wrong with your internet connection, and the installer
was not able to download the PhantomJS binary for your platform. Please try again.</p>
<h5>I tried again, but I get <code>ECONNRESET</code> or <code>ETIMEDOUT</code> consistently.</h5><p>Do you live in China, or a country with an authoritarian government? We&#39;ve seen problems where
the GFW or local ISP blocks github, preventing the installer from downloading the binary.</p>
<p>Try visiting <a href="https://bitbucket.org/ariya/phantomjs/downloads">the download page</a> manually.
If that page is blocked, you can try using a different CDN with the <code>PHANTOMJS_CDNURL</code>
env variable described above.</p>
<h5>I am behind a corporate proxy that uses self-signed SSL certificates to intercept encrypted traffic.</h5><p>You can tell NPM and the PhantomJS installer to skip validation of ssl keys with NPM&#39;s
<a href="https://www.npmjs.org/doc/misc/npm-config.html#strict-ssl">strict-ssl</a> setting:</p>
<pre><code>npm set strict-ssl false
</code></pre><p>WARNING: Turning off <code>strict-ssl</code> leaves you vulnerable to attackers reading
your encrypted traffic, so run this at your own risk!</p>
<h5>I tried everything, but my network is b0rked. What do I do?</h5><p>If you install PhantomJS manually, and put it on PATH, the installer will try to
use the manually-installed binaries.</p>
<h5>I&#39;m on Debian or Ubuntu, and the installer failed because it couldn&#39;t find <code>node</code></h5><p>Some Linux distros tried to rename <code>node</code> to <code>nodejs</code> due to a package
conflict. This is a non-portable change, and we do not try to support this. The
<a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager#ubuntu-mint-elementary-os">official documentation</a>
recommends that you run <code>apt-get install nodejs-legacy</code> to symlink <code>node</code> to <code>nodejs</code>
on those platforms, or many NodeJS programs won&#39;t work properly.</p>
<h5>I&#39;m using an unsupported version of Linux or an ARM processor. I get errors about &quot;Unexpected platform or architecture&quot;. What do I do?</h5><p>We only have binaries available for common OS / processor configurations. Sorry.</p>
<p>You may be able to get a PhantomJS binary from your operating system&#39;s package
manager. Or you can build your own from source. If you put that binary on PATH,
this installer will use it (see &quot;Deciding Where to Get PhantomJS&quot; above).</p>
<h2>Contributing</h2><p>Questions, comments, bug reports, and pull requests are all welcome.  Submit them at
<a href="https://github.com/Medium/phantomjs/">the project on GitHub</a>.  If you haven&#39;t contributed to an
<a href="http://github.com/Medium/">Medium</a> project before please head over to the
<a href="https://github.com/Medium/open-source#note-to-external-contributors">Open Source Project</a> and fill
out an OCLA (it should be pretty painless).</p>
<p>Bug reports that include steps-to-reproduce (including code) are the
best. Even better, make them in the form of pull requests.</p>
<h2>Author</h2><p><a href="https://github.com/dpup">Dan Pupius</a>
(<a href="http://pupius.co.uk">personal website</a>) and
<a href="https://github.com/nicks">Nick Santos</a>, supported by
<a href="http://medium.com/">A Medium Corporation</a>.</p>
<h2>License</h2><p>Copyright 2012 <a href="http://medium.com/">A Medium Corporation</a>.</p>
<p>Licensed under the Apache License, Version 2.0.
See the top-level file <code>LICENSE.txt</code> and
(<a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>).</p>

	 <!-- Bootstrap core JavaScript
 ================================================== -->
 <!-- Placed at the end of the document so the pages load faster -->
     <script src="js/jquery.js"></script>
    <script src="js/tether.js"></script>
    <script src="js/bootstrap.js"></script>

</body>
</html>